# 更新日志

## [1.2.0] - 2026-01-11

### 🎉 新功能

#### 🖼️ 背景和头像系统
- **全局背景图片**：支持自定义背景图片，全局展示
- **移动端自适应**：背景图片自动裁剪适配移动端
- **头像展示**：头像显示在歌单标题正上方，圆形蒙版
- **毛玻璃效果**：所有内容层使用液态玻璃遮罩，多层模糊处理
- **自动URL填充**：上传图片后自动填充完整URL（当前域名+路径）

#### 📝 SEO 和标题优化
- **副标题设置**：支持设置站点副标题
- **动态网页标题**：格式为"站点名称 - 副标题"
- **SEO关键词**：支持设置SEO关键词
- **SEO描述**：支持设置SEO描述，自动更新meta标签

#### 💻 自定义代码功能
- **自定义CSS**：支持注入自定义CSS代码
- **自定义JavaScript**：支持注入自定义JavaScript代码
- **实时生效**：保存后刷新页面即可看到效果
- **独立配置面板**：在管理后台新增"自定义配置"标签页

### 🐛 Bug 修复
- ✅ 修复上传图片后URL未自动填充的问题
- ✅ 修复背景图片和头像未正确展示的问题
- ✅ 修复siteName未更新网页title的问题
- ✅ 优化毛玻璃效果的层级关系

### 🎨 UI/UX 改进
- 背景图片全局展示，移动端自适应裁剪
- 头像圆形蒙版，带渐变边框和阴影
- 所有内容层使用毛玻璃遮罩，提升视觉层次
- AppBar、Footer等组件增强毛玻璃效果
- 优化多层玻璃遮罩之间的模糊关系

### 🔧 技术改进
- 数据库结构扩展：新增site_subtitle、seo_keywords、seo_description、custom_css、custom_js字段
- 自动数据库迁移：支持旧数据库自动添加新字段
- 动态meta标签更新：根据配置自动更新SEO信息
- 自定义代码注入：安全的CSS和JS代码注入机制

---

## [1.1.0] - 2026-01-10

### 🎉 新功能

#### 🎨 主题自定义系统
- **自定义主题配色**：用户可以自由选择主色调和辅色调
- **6个预设主题**：快速切换不同配色方案
  - 默认粉紫
  - 蓝紫渐变
  - 绿松石
  - 橙粉红
  - 青蓝色
  - 紫红渐变
- **实时预览**：修改后即刻看到效果
- **本地存储**：配色保存在浏览器localStorage，无需登录
- **主题模式记忆**：深色/浅色模式自动保存

#### 📱 响应式布局优化
- **PC端（≥960px）**：
  - 左侧固定筛选栏（sticky定位）
  - 右侧内容区域更宽敞
  - 每行最多显示4列歌曲卡片
  - 搜索框集成在筛选栏内
- **移动端（<960px）**：
  - 底部抽屉式筛选器
  - 顶部搜索栏 + 筛选按钮
  - 每行最多2列歌曲卡片
  - 更符合移动端操作习惯

### 🐛 Bug 修复
- ✅ 修复首次访问不跳转到安装页面的问题
- ✅ 修复日间模式下AppBar图标可读性问题
- ✅ 改进API错误处理逻辑

### 🎨 UI/UX 改进
- 图标颜色优化：浅色模式下使用主题色，提升可读性
- AppBar背景增强：更好的液态玻璃效果
- 筛选器组件化：代码更清晰，维护更方便
- 歌曲卡片组件化：提升代码复用性

### 🔧 技术改进
- 使用localStorage持久化用户偏好设置
- 添加useMediaQuery响应式断点判断
- 新增ThemeCustomizer组件
- 新增SongCard组件
- 代码结构优化

### 📝 更新说明
此版本主要优化用户体验，新增主题自定义功能，并针对不同设备提供了更合适的布局方案。

---

## [1.0.0] - 2026-01-09

### 新增功能

- 🎨 全新的二次元风格界面设计
- 🌓 支持深色/浅色主题切换
- 🎵 完整的歌单管理系统
- 🔍 强大的筛选和搜索功能
- 📋 一键复制歌曲名
- 🎛️ 管理后台系统
- 📦 JSON 格式导入导出
- 🔧 XLSX 转 JSON 工具
- 🐳 Docker 容器化部署
- 🚀 GitHub Actions CI/CD
- 📄 完整的文档和示例

### 技术栈

- 后端：Node.js + Express + SQLite
- 前端：React 18 + MUI v7 + Vite
- 部署：Docker + Docker Compose
- CI/CD：GitHub Actions

### 特色功能

- 液态玻璃效果（Glassmorphism）
- 渐变色主题系统
- 防抖搜索
- 分页浏览
- 文件上传
- 数据备份恢复

---

## 即将到来

- [x] ~~多主题预设~~ (v1.1.0 已完成)
- [x] ~~响应式布局优化~~ (v1.1.0 已完成)
- [ ] 歌单标签系统
- [ ] 批量操作功能
- [ ] 歌曲评分系统
- [ ] 播放历史记录
- [ ] 用户收藏夹
- [ ] 数据统计图表
- [ ] 导入导出增强（支持Excel）

